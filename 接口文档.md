# 后端接口文档

[TOC]

## 用户相关

### 登录

POST /user/loginCheck

account账号

password密码

**返回值**

```
ResponseBodyEnum.SUCCESS UserDetailVO
ResponseBodyEnum.LOGIN_FAILED
ResponseBodyEnum.PARAM_WRONG
```

### 注册

PUT /user/register

account账号

password密码

name姓名

type账号类型

**返回值**

```
ResponseBodyEnum.SUCCESS UserDetailVO
ResponseBodyEnum.ACCOUNT_RECUR
ResponseBodyEnum.PARAM_WRONG
```

### 修改密码

POST /user/changePassword

account账号

oldPassword原密码

newPassword新密码

**返回值**

```
ResponseBodyEnum.SUCCESS
ResponseBodyEnum.CHANGE_PASSWORD_FAILED
ResponseBodyEnum.PARAM_WRONG
```

### 登出

GET /logout

**返回值**

```
ResponseBodyEnum.SUCCESS
```

### 获取用户详情

GET /getUserDetail

id用户的id

**返回值**

```
ResponseBodyEnum.SUCCESS UserDetailVO
ResponseBodyEnum.PARAM_WRONG
ResponseBodyEnum.NEED_TO_RELOGIN
```

## 试卷相关

### 根据试卷代码获取试卷

GET /paper/getByCode

code试卷代码

**返回值**

```
ResponseBodyEnum.SUCCESS PaperVO
ResponseBodyEnum.PARAM_WRONG
ResponseBodyEnum.NEED_TO_RELOGIN
ResponseBodyEnum.FIND_FAILED
```

### 获取我创建的试卷

GET /paper/get

**返回值**

```
ResponseBodyEnum.SUCCESS List<PaperDetailVO>
ResponseBodyEnum.NEED_TO_RELOGIN
```

### 创建试卷

PUT /paper/create

title试卷标题

introduction试卷简介

time最长答题时间(分钟)

collection试卷收集项目(json)

**返回值**

```
ResponseBodyEnum.SUCCESS PaperVO
ResponseBodyEnum.PARAM_WRONG
ResponseBodyEnum.UNKNOWN_WRONG
ResponseBodyEnum.NEED_TO_RELOGIN
```

### 添加组合题目

PUT /paper/addPolymerizationProblem

paperId添加到的试卷id

title标题

material材料

**返回值**

```
ResponseBodyEnum.SUCCESS PolymerizationProblemVO
ResponseBodyEnum.PARAM_WRONG
ResponseBodyEnum.NEED_TO_RELOGIN
```

### 添加图片到组合题目

PUT /paper/addImageInPolymerizationProblem

polymerizationProblemId添加到的组合题目的id

index添加图片的排序号

imgFile图片文件

**返回值**

``` 
ResponseBodyEnum.SUCCESS PolymerizationProblemVO
ResponseBodyEnum.PARAM_WRONG
ResponseBodyEnum.NEED_TO_RELOGIN
```

### 删除组合题目中的图片

DELETE /paper/deleteImageInPolymerizationProblem

polymerizationProblemId删除图片的组合题目id

index删除的图片序号

**返回值**

```
ResponseBodyEnum.SUCCESS PolymerizationProblemVO
ResponseBodyEnum.PARAM_WRONG
ResponseBodyEnum.NEED_TO_RELOGIN
```

### 删除组合题目

DELETE /paper/deleteImageInPolymerizationProblem

polymerizationProblemId删除的组合题目id

index删除的图片的排序号

**返回值**

```
ResponseBodyEnum.SUCCESS PolymerizationProblemVO
ResponseBodyEnum.NEED_TO_RELOGIN
ResponseBodyEnum.PARAM_WRONG
```

### 添加题目

PUT /paper/addProblem

paperId添加到的试卷id

polymerizationProblemId添加到的组合题目id

title标题

material材料

type题目类型

answer答案

**返回值**

```
ResponseBodyEnum.SUCCESS ProblemVO
ResponseBodyEnum.NEED_TO_RELOGIN
ResponseBodyEnum.PARAM_WRONG
```

### 添加图片到题目

PUT /paper/addImageInProblem

problemId添加图片的题目id

index添加图片的排序号

imgFile图片文件

**返回值**

```
ResponseBodyEnum.SUCCESS ProblemVO
ResponseBodyEnum.PARAM_WRONG
ResponseBodyEnum.NEED_TO_RELOGIN
```

### 删除题目中的图片

DELETE /paper/deleteImageInProblem

problemId删除图片的题目id

index删除的图片排序号

**返回值**

```
ResponseBodyEnum.SUCCESS ProblemVO
ResponseBodyEnum.PARAM_WRONG
ResponseBodyEnum.NEED_TO_RELOGIN
```

### 删除题目

DELETE /paper/deleteProblem

paperId试卷id

problemId要删除的题目id

**返回值**

```
ResponseBodyEnum.SUCCESS PaperDetailVO
ResponseBodyEnum.PARAM_NOT_MATCH
ResponseBodyEnum.PARAM_WRONG
ResponseBodyEnum.NEED_TO_RELOGIN
```

### 删除试卷

DELETE /paper/delete

paperId删除的试卷id

**返回值**

```
ResponseBodyEnum.SUCCESS
ResponseBodyEnum.PARAM_WRONG
ResponseBodyEnum.NEED_TO_RELOGIN
```

### 试题排序

paperId试卷id

oldIndexToNewIndexMap排序的map对象(key为原位置,value为改变后的位置)

**返回值**

```
ResponseBodyEnum.SUCCESS PaperDetailVO
ResponseBodyEnum.PARAM_NOT_MATCH
ResponseBodyEnum.PARAM_WRONG
ResponseBodyEnum.NEED_TO_RELOGIN
```